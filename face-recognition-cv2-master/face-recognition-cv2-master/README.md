# 人脸识别系统

这是一个基于OpenCV的人脸识别系统，支持人脸录入、识别和管理功能。

## 功能特性

- 人脸录入：支持表情验证（眨眼检测）
- 人脸识别：实时识别已录入的人脸
- 人脸管理：支持修改已录入人脸的名称
- 图形界面：基于Tkinter的用户友好界面

## 系统要求

- Windows 10/11
- Python 3.12
- 摄像头设备

## 安装依赖

### 方法1：使用requirements.txt（推荐）

```bash
py -3.12 -m pip install -r requirements.txt
```

### 方法2：手动安装

```bash
py -3.12 -m pip install opencv-python opencv-contrib-python numpy Pillow
```

## 运行程序

### 方法1：使用批处理文件（推荐）

双击 `run.bat` 文件即可启动程序。

### 方法2：命令行运行

```bash
py -3.12 main.py
```

## 使用说明

1. **录入人脸**：点击"录入人脸"按钮，输入姓名，然后按照提示进行人脸录入
2. **开始刷脸**：点击"开始刷脸"按钮进行人脸识别
3. **修改名称**：点击"修改名称"按钮可以修改已录入人脸的姓名
4. **退出程序**：点击"退出"按钮关闭程序

## 注意事项

- 确保摄像头正常工作
- 录入时请保持面部表情自然，并按照提示进行眨眼验证
- 识别时请保持适当的光线条件
- 程序会自动创建必要的文件夹和配置文件

## 文件结构

```
face-recognition-cv2-master/
├── main.py              # 主程序文件
├── requirements.txt     # 依赖包列表
├── run.bat             # Windows启动脚本
├── README.md           # 说明文档
├── config.txt          # 配置文件（自动生成）
├── data/               # 临时数据文件夹
├── Facedata/           # 人脸数据文件夹
├── traindata/          # 训练模型文件夹
└── haarcascade_frontalface_default.xml  # 人脸检测模型
```

## 故障排除

如果遇到依赖安装问题，请确保：
1. 使用Python 3.12版本
2. 使用 `py -3.12` 命令而不是 `python`
3. 确保网络连接正常

如果遇到摄像头问题，请检查：
1. 摄像头是否被其他程序占用
2. 摄像头驱动是否正确安装
3. 摄像头权限是否已授予 